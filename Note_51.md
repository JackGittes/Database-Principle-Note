## 数据库原理与应用 第五十一讲 完整性约束

- 作者：**赵明心**
- 日期：**2019年8月25日**

---

### **5.1.1 统计数据库安全（续）**

- 个体追踪器
  - 假定满足条件
- 通用追踪器
  - 如果能找到这样一个谓词$T$满足条件($n是表的总元组数$)：
    - $2b\le |SET(T)| \le (n-2b), b<n/4$


如果能找到这样的谓词$T$，那么这样的谓词就可以作为通用的追踪器。


### **5.1.2 完整性约束**

- **完整性约束（Integrity Constraint）**
所谓数据库的完整性约束就是一些规则。一个完成性约束规则是描述数据库关系的合法实例应当满足的一些基本条件。这组条件就是一个完整性约束。
  - 当我们对数据库数据进行插删改操作的时候，任何违反完整性约束的数据都是不允许进入数据库的，也即更新的后项AI必须要通过完整性检查
  - 能够被用来确保应用语义或者避免不一致性

#### **完整性约束的分类**

大致可以分成两大类：
- 静态约束：对数据库状态的约束
  - 内在约束（数据模型）：例如1NF，一范式要求不允许表中套表
  - 隐式约束：由数据模式隐含，由DDL指出的。例如域约束、主键约束、外键约束（引用完整性约束）
    - 域约束：域的值必须是正确的类型
  - 显式约束或通用约束（通过断言或者CHECK语句约束）
- 动态约束：当数据库从一个状态到另一个状态的时候需要满足的约束，可以被组合成为触发器。本章就要讲解触发器，数据库在状态变化的时候需要遵守的一些规则。

数据库更新的时候怎么能保证外键和引用的完整性？
